<!doctype html>
<html lang="ru" ng-app="partyApp">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>Let's go to the Party!</title>
    <link rel="stylesheet" href="app.css" />

  <!--  <script src="bower_components/angular/angular.js"></script> -->


  </head>
  <body>

    <form class="form-wrapper" id="formParty" method="post">
  		<div class="form-Intro">
  			<h1>Go to the Party!</h1>
  		</div>

      <fieldset class="form-questions">
        <legend>Please answer!</legend>


        <div class="form-input-wrapper">
            <select id="go" name="go" required>
              <option value="true">Yes</option>
              <option value="false"> No</option>
            </select>
            <label for="go">Will you go?</label>
        </div>

        <div class="form-input-wrapper">
          <input id="drink" type="text" name="drink" list="drinkList" value="Water" placeholder="Choose please" required/>
          <datalist id="drinkList">
            <select>
              <option label="Water" value="Water"></option>
              <option label="Juice" value="Juice"></option>
              <option label="Wine" value="Wine"></option>
              <option label="Beer" value="Beer"></option>
              <option label="Vodka" value="Vodka"></option>
            </select>
          </datalist>
          <label for="drinkList">What are you drink?</label>
        </div>
      </fieldset>



  		<fieldset class="form-name">
  			<legend> About you?</legend>
  			<div class="form-input-wrapper">
  				<input id="people" name="people" pattern="([a-zA-Z]{3,30}\s*)+[a-zA-Z]{3,30}" value="Ivan" placeholder="Ivan Petrov" required>
  				<label for="people">Your Name</label>
  			</div>
      </fieldset>

  		<button id="submitBtn" class="form-submit-btn" type="button"  value="Submit "> Submit Answer </button>

    </form>

    <script src="send.js"></script>

    <script type="text/javascript">

    submitBtn.onclick =  function () {
      console.log("Submit");

      let data = {
        "youGo" : go.value,
        "youDrink" : drink.value,
        "youName" : people.value
      }

    console.log( data );
    sendDataXhr( data );
    }

    function sendDataXhr( data ) {
      let xhr = new XMLHttpRequest ();

      xhr.open('POST','/save');
      xhr.setRequestHeader('Content-Type', 'application/json; charset=utf8')
      xhr.send( JSON.stringify(data) );
    }

    </script>
  </body>
</html>
